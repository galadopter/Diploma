\subsection{Требования к проектируемому программному средству}
\label{sec:subject:specification}

По результатам изучения предметной области, анализа литературных источников и обзора существующих систем-аналогов сформулируем требования к проектируемому программному средству.

\subsubsection{} Назначение проекта
\label{sec:subject:specification:purpose}

Назначением проекта является разработка аппаратно-программного средства, которое позволяет выполнять следующие действия с гирляндами: изменение анимаций, отображение текста на гирлянде, отправка анимаций другим пользователям приложения.

\subsubsection{} Основные функции
\label{sec:subject:specification:functions}

Программное средство должно поддерживать следующие основные фун\-к\-ции:

\begin{itemize}
	\item регистрация и аутентификация;
	\item отображение списка анимаций;
	\item наличие предустановленных анимаций;
    \item возможность изменять анимации на гирлянде;
    \item отправка анимаций другим пользователям;
    \item калибровка гирлянд для корректного отображения анимаций;
    \item редактирование анимаций;
    \item создание своих собственных анимаций;
    \item удаление собственных анимаций.
\end{itemize}

\subsubsection{} Требования к входным данным
\label{sec:subject:specification:inputs}

Входные данные для программного средства должны быть представлены в виде вводимого пользователем с помощью клавиатуры текста и выбора доступных опций пользовательского интерфейса.

Должны быть реализованы проверки вводимых данных на корректность с отображением информации об ошибках в случае их некорректности.

\subsubsection{} Требования к выходным данным
\label{sec:subject:specification:outputs}

Выходные данные программного средства должны быть представлены посредством отображения информации с помощью различных элементов пользовательского интерфейса, а также путем изменения состояния гирлянд.

\subsubsection{} Требования к временным характеристикам
\label{sec:subject:specification:timing}

Производительность программно-аппаратного комплекса должна обеспечивать следующие временные характеристики: время реакции не запрос пользователя не должно превышать 1 секунды при минимальной скорости соединения 1 МБит/с. Допускается невыполнение данного требования в случае, когда невозможность обеспечить заявленную производительность обусловлена объективными внешними причинами.

% \subsubsection{} Требования к надежности
% \label{sec:subject:specification:reliability}

% Надежное функционирование программы должно быть обеспечено выполнением следующих организационно-технических мероприятий:

% \begin{itemize}
% 	\item организация бесперебойного питания;
% 	\item выполнение рекомендаций Министерства труда и социальной защиты РБ, изложенных в Постановлении от 23 марта 2011 г. «Об утверждении Норм времени на работы по обслуживанию персональных электронно-вычислитель\-ных машин, организационной техники и офисного оборудования»;
% 	\item выполнение требований ГОСТ 31078-2002 <<Защита информации. Испытания программных средств на наличие компьютерных вирусов>>;
% 	\item необходимым уровнем квалификации пользователей.
% \end{itemize}

% Время восстановления после отказа, вызванного сбоем электропитания технических средств (иными внешними факторами), нефатальным сбоем операционной системы, не должно превышать времени, необходимого на перезагрузку операционной системы и запуск программы, при условии соблюдения условий эксплуатации технических и программных средств. Время восстановления после отказа, вызванного неисправностью технических средств, фатальным сбоем операционной системы, не должно превышать времени, требуемого на устранение неисправностей технических средств и переустановки программных средств.

% Отказы программы возможны вследствие некорректных действий пользователя при взаимодействии с операционной системой. Во избежание возникновения отказов программы по указанной выше причине следует обеспечить работу конечного пользователя без предоставления ему административных привилегий.

\subsubsection{} Требования к аппаратному обеспечению гирлянды
\label{sec:subject:specification:server_requirments}

Микроконтроллер, на котором должна функционировать аппаратная часть программного средства, должна обладать следующими минимальными характеристиками:

\begin{itemize}
	\item 32-х битный процессор с тактовой частотой от 80 MHz;
	\item наличие wifi модуля;
	\item флеш память 1 мб и более;
	\item оперативная память 256 кб и более;
	\item поддержка WEP.
\end{itemize}

\subsubsection{} Требования к аппаратному обеспечению клиентской части
\label{sec:subject:specification:client_requirments}

Клиентская часть программного средства должна функционировать на мобильных устройствах со следующими минимальными характеристиками:

\begin{itemize}
	\item операционная система iOS версии 10b и выше;
	\item оперативная память 2 Гб и более;
	\item устройство iPhone 5s и новее.
\end{itemize}

\subsubsection{} Выбор технологий программирования
\label{sec:subject:specification:language}

Язык программирования, на котором будет реализована система, заслуживает большого внимания, так как вы будете погружены в него с начала конструирования программы до самого конца. Исследования показали, что выбор языка программирования несколькими способами влияет на производительность труда программистов и качество создаваемого ими кода. Если язык хорошо знаком программистам, они работают более производительно. Данные, полученные при помощи модели оценки Cocomo II, показывают, что программисты, использующие язык, с которым они работали три года или более, примерно на 30\% более продуктивны, чем программисты, обладающие аналогичным опытом, но для которых язык является новым~\cite{software_cost_estimation}. В более раннем исследовании, проведенном в IBM, было обнаружено, что программисты, обладающие богатым опытом использования языка программирования, были более чем втрое производительнее программистов, имеющих минимальный опыт~\cite{method_of_programming_measurement_and_estimation}.

Язык программирования Swift, указанный в задании на дипломное проектирование, является кроссплатформенным языком программирования, разработанный Apple Inc. для iOS, macOS, watchOS, tvOS и Linux. Swift предназначен для работы с фреймворками Apple Cocoa и Cocoa Touch и большим объемом существующего кода на  Objective-C (ObjC), написанного для продуктов Apple. Он построен с использованием компилятора LLVM с открытым исходным кодом и включен в Xcode с версии 6. На платформах, отличных от Linux, он использует библиотеку времени выполнения Objective-C, которая позволяет использовать C, Objective-C, C ++ и Swift в рамках одной программы.

Apple стремилась в Swift поддержать многие основные концепции, связанные с Objective-C, в частности динамической рассылкой, широко распространенной поздней привязкой, расширяемым программированием и аналогичными функциями, а также сделать язык «более безопасным» (проще поймать программные ошибки); Swift пытается решить проблемы, связанные с некоторыми распространенными ошибками программирования, такими как нулевые указатели, и обеспечивает синтаксический сахар, чтобы избежать этих ошибок. Swift поддерживает концепцию расширяемости протокола, систему расширяемости, которая может применяться к типам, структурам и классам, которые Apple рекламирует как реальное изменение в парадигмах программирования, которые они называют «протокольно-ориентированным программированием».

Во многих объектно-ориентированных языках объекты представлены двумя частями. Объект хранится как блок данных, помещенных в кучу, тогда как имя (или «дескриптор») к этому объекту представляется указателем. Объекты передаются между методами путем копирования значения указателя, позволяя тем самым не копировать сами данные. В тоже время, основные типы, такие как целые числа и значения с плавающей запятой, представлены без ссылок; дескриптор содержит данные, а не указатель на него, и эти данные передаются непосредственно путем копирования.

Обе концепции имеют свои преимущества и недостатки. Объекты полезны, когда данные большие, например, описание окна или содержимого документа. В этих случаях доступ к этим данным обеспечивается путем копирования 32- или 64-битного значения по сравнению с копированием всей структуры данных. Однако меньшие значения, такие как целые числа, имеют тот же размер, что и указатели (как правило, оба являются одним словом), поэтому нет никакого преимущества для передачи указателя по сравнению с передачей значения. Кроме того, для передачи по ссылке по сути требуется операция разыменования, которая может приводить к заметным расходам в некоторых случаях

Подобно C\# и, в отличие от большинства других языков, Swift предлагает встроенную поддержку объектов, используя либо pass-by-reference, либо pass-by-value семантику, причем первая использует объявление класса, а вторая использует struct. Структуры в Swift имеют почти все те же функции, что и классы: методы, протоколы и использование механизмов расширения. Однако структуры не поддерживают наследование

Исходя из достоинств данного языка программирования, можно сделать вывод, что он наиболее подходящий для написания приложений под iOS. Именно поэтому Swift и выбран как основной язык программирования в задании к текущему дипломному проекту.

Однако, выбранный язык программирования является средством для программирования клиентской части приложения. Поскольку для приложения в любом случае понадобится сервер, то есть два варианта: 

\begin{itemize}
	\item развернуть сервер самостоятельно;
	\item использовать готовый сервер (backend as a service).
\end{itemize}

Firebase — програмная платформа, созданная в 2011 году Эндрю Ли и Джеймсом Тэмплином, и поглощённая в 2014 году корпорацией Google.

Основной сервис — облачная СУБД класса NoSQL, позволяющая разработчикам приложений хранить и синхронизировать данные между несколькими клиентами. Поддержаны особенности интеграции с приложениями под операционные системы Android и iOS. \newline Предусмотрено API для шифрования данных.

Другие важные сервисы Firebase:

\begin{itemize}
	\item Firemase Cloud Messaging (FCM) - это кросс-платформенное решение для сообщений и уведомлений для Android, iOS и веб-приложений, которые могут быть использованы бесплатно.
	\item Firebase Auth - это сервис, который может аутентифицировать пользователей, используя только клиентский код. Он поддерживает поставщиков социальных подключений Facebook, GitHub, Twitter и Google (и игр в Google Play). Кроме того, он включает систему управления пользователями, в соответствии с которой можно включить аутентификацию пользователя с помощью входа при помощи адреса электронной почты и пароля, хранящегося в Firebase.
	\item Firebase предоставляет базу данных в реальном времени и бэкэнд как услугу. Сервис предоставляет разработчикам приложений API, который позволяет синхронизировать данные приложений по клиентам и хранить их в облаке Firebase. Компания предоставляет клиентские библиотеки, которые обеспечивают интеграцию с приложениями Android, iOS, JavaScript, Java, Objective-C, Swift и Node.js. База данных также доступна через API REST и привязки для нескольких фреймворков JavaScript, таких как AngularJS, React, Ember.js и Backbone.js. API REST использует протокол Server-Sent Events, который является API для создания HTTP-соединений для получения push-уведомлений с сервера. Разработчики, использующие базу данных реального времени, могут защитить свои данные, используя правила безопасности на стороне сервера.
	\item Firebase Storage обеспечивает безопасную загрузку файлов и загрузку приложений Firebase. Разработчик может использовать его для хранения изображений, аудио, видео или другого пользовательского контента. Хранилище Firebase поддерживается облачным хранилищем Google.
	\item Firebase Hosting – это статический и динамический веб-хостинг, который был запущен 13 мая 2014 года. Он поддерживает размещение статических файлов, таких как CSS, HTML, JavaScript и другие файлы, а также динамическую поддержку Node.js через Cloud Functions. Сервис предоставляет файлы через сеть доставки контента (CDN) через HTTP Secure (HTTPS) и шифрование с защищенным сокетным слоем (SSL). Firebase сотрудничает с Fastly, CDN, чтобы обеспечить поддержку CDN Firebase Hosting.
\end{itemize}

Несмотря на то, что платформа Firebase поддерживает несколько языков программирования, основным является язык JavaScript. Он является простым, современным, объектно-ориентированным, обеспечивающим безопасность типов языком программирования.

Одной из сред программирования, которая поддерживает одновременно Swift и JavaScript, является Xcode, которая входит в линейку продуктов компании Apple, включающих интегрированную среду разработки программного обеспечения и ряд других инструментальных средств. Возможность собирать проекты под iOS имеет только данная среда программирования. Она включает в себя редактор исходного кода с поддержкой технологии In\-tel\-li\-Sen\-se и возможностью рефакторинга кода. Так же имеется встроенная интеграция с системой контроля версий GitHub. Именно поэтому она и выбрана в качестве основной среды программирования.

Язык программирования JavaScript~можно использовать для создания приложений для различных платформ. Для проектируемого программного сре\-д\-с\-т\-ва актуальны следующие характеристики:
\begin{itemize}
  \item нет необходимости в организации ресурсоемких вычислений;
  \item желательна возможность использования мгновенных уведомлений и оповещений.
\end{itemize}

По результатам обзора возможных платформ, представленных в пункте~\ref{sec:analysis:literature:platforms}, было принято решение выбрать основной для разработки платформу мобильных-приложений, в частности iOS. После завершения разработки первой версии программного средства будет рассматриваться вопрос разработки мобильного приложения для Android.

Фактор опыта использования оказал влияние на выбор  системы управления базами данных для разрабатываемого приложения. Облачная СУБД Firebase является особенно приспособленной для мобильных приложений. Ее отличительной особенностью является возможность масштабируемости, а также отказоустойчивость. Основным способом взаимодействия с данной СУБД является предложенная разработчиком клиентская библиотека на языке Swift а также сервис Cloud Functions который позволяет писать серверную часть на JavaScript.

Сформулированные требования позволят осуществить успешное проектирование и разработку программного средства.
